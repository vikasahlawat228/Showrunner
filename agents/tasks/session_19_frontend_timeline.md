# Prompt: Track 4 â€” Dynamic Timeline UI

**Goal**: Update the frontend Timeline view to react in real-time to the new event streams generated by Phase D's Event Sourcing integration.

**Context**:
In Phase D, we fully wired `EventService.append_event()` into Zen Mode fragments, Pipeline Definitions, and Storyboard panels. However, the `TimelineView.tsx` component is currently a static fetch that only executes when the timeline tab is opened. We need to actively subscribe to a stream or aggressively poll the backend so that when an event occurs, it immediately renders on the UI.

**Required Actions (Frontend Only)**:

1. **Enhance `TimelineView.tsx` with Polling or SSE**:
   - Create a mechanism to automatically refresh the events list. Given that `EventService` doesn't currently stream, create a `useInterval` hook to poll `GET /api/v1/timeline/events` every 2 seconds while the Timeline view is active.
   - Refactor the React state to smoothly merge incoming events into the tree without breaking the scroll position.

2. **Visual Differentiation by Event Type**:
   - Currently all events look the same. We need distinct styling based on `event_type`:
     - `fragment_saved` (Zen Mode) â†’ Display a text preview icon âœï¸
     - `panel_created` / `panel_reordered` (Storyboard) â†’ Display an image/frame icon ğŸ¬
     - `pipeline_def_created` (Pipelines) â†’ Display a flow-chart icon ğŸ”„
     - `checkout_branch` (Timeline) â†’ Display a git-branch icon ğŸŒ¿
   - Modify the `TimelineEvent` node renderer to show these icons, perhaps with color-coding.

3. **Interaction Polish**:
   - Add a subtle pulse animation to newly arrived events.

**Output Specification**:
Provide the updated React code for:
1. `src/web/src/components/timeline/TimelineView.tsx`
2. If necessary, a new component file for the individual `TimelineEventNode.tsx` to keep the file clean.

*Note: Make sure the branching visualization (the DAG representation) remains intact. We are just updating how the nodes look and how often the data fetches.*
